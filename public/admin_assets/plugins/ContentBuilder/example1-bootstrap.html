<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">  
    <link rel="shortcut icon" href="#" /> 

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
    <!-- Content Blocks (customizable) -->
    <link href="assets/minimalist-blocks/content.css" rel="stylesheet" type="text/css" />

    <!-- Plugins (Optional) -->
    <link href="assets/scripts/simplelightbox/simplelightbox.css" rel="stylesheet" type="text/css" />
    <link href="assets/scripts/slick/slick.css" rel="stylesheet" type="text/css" />
    <link href="assets/scripts/slick/slick-theme.css" rel="stylesheet" type="text/css" />
    
    <!-- ContentBuilder -->
    <link href="contentbuilder/contentbuilder.css" rel="stylesheet" type="text/css" />

    <style>
        html {display:none}
        .container {  margin: 120px auto; max-width: 800px; width:100%; padding:0 35px; box-sizing: border-box;}
    </style>
</head>
<body>

<div style="margin:0;font-weight:400;color: #aaa;padding-top:8px;padding-right:30px;text-align:right;">This is an online demo of <a href="https://innovastudio.com/content-builder.aspx" style="font-weight:600">ContentBuilder.js</a></div>

<!-- This is just a sample content. Content can be loaded from a database. -->
<div class="container">
    <div class="row">
        <div class="col-md-12 center">
            <div class="display" style="max-width:400px;margin: 0 auto">
	            <h1 class="size-42" style="letter-spacing: 5px;">Keep Everything Simple</h1>
	            <p class="size-14" style="color: rgb(136, 136, 136); letter-spacing: 4px;">This is an online demo of ContentBuilder.js</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="spacer height-60"></div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <p style="text-align: justify;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s. Vivamus leo ante, consectetur sit amet, sit amet lectus.</p>
        </div>
        <div class="col-md-6">
            <p style="text-align: justify;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s. Vivamus leo ante, consectetur sit amet, sit amet lectus.</p>
        </div>
    </div>
</div>

<div class="is-tool" style="position:fixed;width:210px;height:50px;border:none;top:50px;bottom:auto;left:auto;right:30px;text-align:right;display:block">
    <button id="btnViewSnippets" class="classic" style="width:70px;height:50px;">+ Add</button>
    <button id="btnViewHtml" class="classic" style="width:70px;height:50px;">HTML</button>
	<button id="btnSave" class="classic" style="width:70px;height:50px;">SAVE</button>
</div>

<script src="contentbuilder/jquery.min.js" type="text/javascript"></script>

<!-- Plugins (Optional) -->
<script src="assets/scripts/simplelightbox/simple-lightbox.min.js" type="text/javascript"></script>
<script src="assets/scripts/slick/slick.min.js" type="text/javascript"></script>

<!-- ContentBuilder -->
<script src="contentbuilder/contentbuilder.min.js" type="text/javascript"></script>
<script src="contentbuilder/saveimages.js" type="text/javascript"></script>

<!-- Optional: To enable drag & drop blocks -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js" type="text/javascript"></script>
<script src="assets/minimalist-blocks/content.js" type="text/javascript"></script>
<!-- /Optional -->

<script type="text/javascript">
    jQuery(document).ready(function ($) {

        //Load content from database (in this example we use browser's localStorage. Normally you need to load saved content from database and place it directly inside div.container above)
        if (localStorage.getItem('contentbootstrap') != null) {
            $(".container").html(localStorage.getItem('contentbootstrap'));
        }
        $("html").fadeIn(400);

        var obj = $.contentbuilder({
            container: '.container',
            framework: 'bootstrap',
            largerImageHandler: 'saveimage-large.php',
            onRender: function () {
                runPlugins();
            },
            moduleConfig: [{
                "moduleSaveImageHandler": "saveimage-module.php" /* for module purpose image saving (ex. slider) */
            }]
        });

        $('#btnViewSnippets').on('click', function () {
            obj.viewSnippets();
        });

        $('#btnViewHtml').on('click', function () {
            obj.viewHtml();
        });

        $('#btnSave').on('click', function () {
            save(obj);
        });

        runPlugins();

    });

    function runPlugins() {
        $('a.is-lightbox').simpleLightbox({ closeText: '<i style="font-size:35px" class="icon ion-ios-close-empty"></i>', navText: ['<i class="icon ion-ios-arrow-left"></i>', '<i class="icon ion-ios-arrow-right"></i>'], disableScroll: false });
    }

    function save(obj) {

        $(".container").saveimages({
            handler: 'saveimage.php', /* handler for base64 image saving */
            onComplete: function () {

                //Get html
                var html = obj.html(); //Get content

                //Save Content
                localStorage.setItem('contentbootstrap', html); //In this example, save the content into browser's local storage.

                $("html").fadeIn(400);

                runPlugins();
            }
        });
        $(".container").data('saveimages').save();

        $("html").fadeOut(400);
    }

</script>

</body>
</html>